<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../js/sessao.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/sessao.js"></script>
    <link rel="shortcut icon" href="../../imgs/favicon.ico" type="image/x-icon">

    <title>Gerenciar | SmartFarm</title>
</head>

<body onload="validarSessao()">

    <section class="menu-lateral">
        <div class="identificacao">
            <h1 id="nome_empresa">Empresa</h1>
            <h2 id="b_usuario">Usuário</h2>
        </div>

        <div>
            <a href="../Estufas/Estufas.html"><button class="btn-gerenciar">Estufas</button></a>
            <a href="../Gerenciar/Gerenciar.html"><button class="btn-gerenciar"
                    id="btn-ativo-menu">Gerenciamento</button></a>
        </div>
        <div>
            <a><button onclick="limparSessao()" class="btn-sair">Sair</button></a>

            <img src="../img/Logo SmartFarm Branco.png" alt="Logo da SmartFarm">
        </div>
    </section>


    <section class="container-gerenciar">

        <div class="inicio-main">
            <div class="titulo-gerenciar">
                <h1>Gerenciamento de Métricas</h1>
            </div>
        </div>




        <div class="container-metrica">
            <div class="metrica-atual">
                <p class="titulo-metrica">Temperatura Atual</p>
                <div class="cards-parametros">
                    <span>Mínima</span>
                    <b id="b_temperatura_minima">15°C</b>
                </div>
                <div class="cards-parametros">
                    <span>Máxima</span>
                    <b id="b_temperatura_maxima">25°C</b>
                </div>

                <div class="card-gerenciamento">
                    <div class="texto-input">
                        <p>Temperatura Mínima</p>
                        <input type="number" id="ipt_temperatura_minima">
                    </div>

                    <div class="texto-input">
                        <p>Temperatura Máxima</p>
                        <input type="number" id="ipt_temperatura_maxima">
                    </div>

                    <button onclick="atualizarMetricaTemperatura()">Atualizar</button>
                </div>
            </div>

            <div class="metrica-atual">
                <p class="titulo-metrica">Umidade Atual</p>
                <div class="cards-parametros">
                    <span>Mínima</span>
                    <b id="b_umidade_minima">70%</b>
                </div>

                <div class="cards-parametros">
                    <span>Máxima</span>
                    <b id="b_umidade_maxima">85%</b>
                </div>

                <div class="card-gerenciamento">

                    <div class="texto-input">
                        <p>Umidade Mínima</p>
                        <input type="number" id="ipt_umidade_minima">
                    </div>

                    <div class="texto-input">
                        <p>Umidade Máxima</p>
                        <input type="number" id="ipt_umidade_maxima">
                    </div>



                    <button onclick="atualizarMetricaUmidade()">Atualizar</button>
                </div>

            </div>

            <div class="metrica-atual">
                <p class="titulo-metrica">Luminosidade Atual</p>
                <div class="cards-parametros">
                    <span>Mínima</span>
                    <b id="b_luminosidade_minima">800lux</b>
                </div>
                <div class="cards-parametros">
                    <span>Máxima</span>
                    <b id="b_luminosidade_maxima">1000lux</b>
                </div>

                <div class="card-gerenciamento">
                    <div class="texto-input">
                        <p>Luminosidade Mínima</p>
                        <input type="number" class="input-card" id="ipt_luminosidade_minima">
                    </div>

                    <div class="texto-input">
                        <p>Luminosidade Máxima</p>
                        <input type="number" class="input-card" id="ipt_luminosidade_maxima">
                    </div>

                    <button onclick="atualizarMetricaLuminosidade()">Atualizar</button>
                </div>
            </div>
        </div>
    </section>

</body>

</html>

<script>

    // Fazer uma lógica de os dois input devem conter valor para poder atualizar as métricas mínimas e máximas.
    function atualizarMetricaTemperatura(){
        const temperaturaMinima = ipt_temperatura_minima.value
        const temperaturaMaxima = ipt_temperatura_maxima.value
        const temperaturasValidas = temperaturaMinima > 0 && temperaturaMaxima > 0 && temperaturaMaxima > temperaturaMinima

        if (temperaturasValidas){
            // Aqui vai ser implementado o fetch para dar update do valor no banco
        } else{
            alert("Insira o valor mínimo e o máximo da métrica de Temperatura.")
        }
    }



    function atualizarMetricaUmidade(){
        const umidadeMinima = ipt_umidade_minima.value
        const umidadeMaxima = ipt_umidade_maxima.value
        const umidadesValidas = umidadeMinima > 0 && umidadeMaxima > 0 && umidadeMaxima > umidadeMinima

        if (umidadesValidas){
            // Aqui vai ser implementado o fetch para dar update do valor no banco.
        } else{
            alert("Insira o valor mínimo e o máximo da métrica de Umidade.")
        }
    }



    function atualizarMetricaLuminosidade(){
        const luminosidadeMinima = ipt_luminosidade_minima.value
        const luminosidadeMaxima = ipt_luminosidade_maxima.value
        const luminosidadesValidas = luminosidadeMinima > 0 && luminosidadeMaxima > 0 && luminosidadeMaxima > luminosidadeMinima

        if (luminosidadesValidas){
            // Caso dê certo:
            // Aqui vai ser implementado o fetch para dar update do valor no banco
        } else{
            alert("Insira o valor mínimo e o máximo da métrica de Luminosidade.")
        }
    }



</script>